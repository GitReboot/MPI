.MODEL SMALL
.STACK 20
DISP MACRO MSG
MOV AH, 09
MOV DX, OFFSET MSG
INT 21H
ENDM
.DATA
MSG1 DB 0DH, 0AH, 'Input a string: $'
MSG2 DB 0DH, 0AH, 'Input a character: $'
MSG3 DB 0DH, 0AH, '$'
MSG4 DB 0DH, 0AH, 'No character found in the given string $'
MSG5 DB 0DH, 0AH, 'Characters found in the given string $'
CHAR DB ?
COUNT DB 0
P1 LABEL BYTE
M1 DB 0FFH
L1 DB ?
P11 DB 0FFH DUP ('$')
.CODE
START:
MOV AX, @DATA
MOV DS, AX
DISP MSG1
MOV DX, OFFSET P1
MOV AH, 0AH
INT 21H
DISP MSG2
MOV AH, 01
INT 21H
MOV CHAR, AL
DISP MSG3
LEA SI, P11
MOV CL, L1
MOV CH, 00
CHECK:
MOV AL, [SI]
CMP CHAR, AL
JNE SKIP
INC COUNT
SKIP:
INC SI
LOOP CHECK
CMP COUNT, 0
JE NF
DISP MSG3
MOV DL, COUNT
ADD DL, 30H
MOV AH, 02
INT 21H
DISP MSG5
JMP LAST
NF:
DISP MSG4
LAST:
MOV AH, 4CH
INT 21H
END START